(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l.ImgViewer={},l.Vue))})(this,function(l,e){"use strict";const I={id:"imgViewer"},V=["src"],h=e.defineComponent({__name:"ImgViewer",setup(a){const c=e.ref(!1);let n,r,d;const f=e.ref("");let m,u,w;function g(i){const o=i.getBoundingClientRect(),{left:t,top:s,width:_}=o;return{left:t,top:s,width:_}}function v(i,o){const t={left:m.left-u.left,top:m.top-u.top};let s=[{transform:`translate3d(${t.left}px, ${t.top}px,0) scale(${w})`,transformOrigin:"0 0"},{transform:"translate(0)"}];o==="close"&&(s=[s[1],s[0]]);const _={duration:300,easing:"cubic-bezier(.2,0,.2,1)"},C=i.animate(s,_);o==="close"&&C.addEventListener("finish",()=>{c.value=!1,f.value="",n.style.visibility="visible",n.style.transition="",d.style.backgroundColor=""})}const p=k(function(){c.value&&(m=g(n),d.style.backgroundColor="transparent",v(r,"close"))},0);window.onscroll=p,e.onMounted(()=>{const i=Array.from(document.getElementsByTagName("img")),o=function({target:t}){n=t,f.value=n.src,m=g(n),c.value=!0};i.forEach(t=>{t.style.cursor="zoom-in",t.addEventListener("click",o)}),d=document.getElementById("imgViewer-modal"),r=document.getElementById("imgViewer-modalImg"),r.onload=()=>{u=g(r),w=m.width/u.width,v(r,"show"),n.style.visibility="hidden"}});function k(i,o){let t;return function(...s){clearTimeout(t),t=setTimeout(()=>{i.apply(this,s)},o)}}return(i,o)=>(e.openBlock(),e.createElementBlock("div",I,[e.createElementVNode("div",{onClick:o[0]||(o[0]=(...t)=>e.unref(p)&&e.unref(p)(...t)),id:"imgViewer-modal",class:e.normalizeClass(["modal",c.value?"modalShow":"modalClose"])},[e.createElementVNode("img",{id:"imgViewer-modalImg",src:f.value},null,8,V)],2),e.renderSlot(i.$slots,"default",{},void 0,!0)]))}}),E="",y=((a,c)=>{const n=a.__vccOpts||a;for(const[r,d]of c)n[r]=d;return n})(h,[["__scopeId","data-v-e5fb20d5"]]),b={install:a=>{a.component("ImgViewer",y)}};l.ImgViewer=y,l.default=b,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
